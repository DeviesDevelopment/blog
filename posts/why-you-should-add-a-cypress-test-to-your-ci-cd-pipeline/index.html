<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Why you should add a cypress test to your CI/CD pipeline | Devies blog</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Cypress is a framework for testing web applications, primarily used for end-to-end testing. In an end-to-end test you test your application as a whole just as a real user would, by interacting with GUI components, without any mocked components. The goal of this post is to convince you to add a single simple cypress test to your CI/CD pipeline.
 In end-to-end tests with cypress you can test a lot of aspects of your application with very little test code."><meta name=generator content="Hugo 0.99.1"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel=stylesheet href=/blog/ananke/css/main.min.9036e8ca4a3287e27ab2eb511a473b75bdc83acf6db11ab67b1704e7b4fdd475.css><link rel="shortcut icon" href=/blog/favicon.ico type=image/x-icon><meta property="og:title" content="Why you should add a cypress test to your CI/CD pipeline"><meta property="og:description" content="Cypress is a framework for testing web applications, primarily used for end-to-end testing. In an end-to-end test you test your application as a whole just as a real user would, by interacting with GUI components, without any mocked components. The goal of this post is to convince you to add a single simple cypress test to your CI/CD pipeline.
 In end-to-end tests with cypress you can test a lot of aspects of your application with very little test code."><meta property="og:type" content="article"><meta property="og:url" content="https://deviesdevelopment.github.io/blog/posts/why-you-should-add-a-cypress-test-to-your-ci-cd-pipeline/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-05-12T08:29:15+02:00"><meta property="article:modified_time" content="2022-05-12T08:29:15+02:00"><meta itemprop=name content="Why you should add a cypress test to your CI/CD pipeline"><meta itemprop=description content="Cypress is a framework for testing web applications, primarily used for end-to-end testing. In an end-to-end test you test your application as a whole just as a real user would, by interacting with GUI components, without any mocked components. The goal of this post is to convince you to add a single simple cypress test to your CI/CD pipeline.
 In end-to-end tests with cypress you can test a lot of aspects of your application with very little test code."><meta itemprop=datePublished content="2022-05-12T08:29:15+02:00"><meta itemprop=dateModified content="2022-05-12T08:29:15+02:00"><meta itemprop=wordCount content="602"><meta itemprop=keywords content="E2E test,Cypress,CI,CD,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Why you should add a cypress test to your CI/CD pipeline"><meta name=twitter:description content="Cypress is a framework for testing web applications, primarily used for end-to-end testing. In an end-to-end test you test your application as a whole just as a real user would, by interacting with GUI components, without any mocked components. The goal of this post is to convince you to add a single simple cypress test to your CI/CD pipeline.
 In end-to-end tests with cypress you can test a lot of aspects of your application with very little test code."></head><body class="ma0 avenir bg-near-white production"><header><div class=bg-black><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/blog/ class="f3 fw2 hover-white no-underline white-90 dib"><img src=/blog/logo.png class="w100 mw5-ns" alt="Devies blog"></a><div class="flex-l items-center"><div class=ananke-socials></div></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class="mt3 ananke-socials"></div><h1 class="f1 athelas mt3 mb1">Why you should add a cypress test to your CI/CD pipeline</h1><p class=tracked>By <strong>Rickard Andersson</strong></p><time class="f6 mv4 dib tracked" datetime=2022-05-12T08:29:15+02:00>May 12, 2022</time></header><div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>Cypress is a framework for testing web applications, primarily used for end-to-end testing. In an end-to-end test you test your application as a whole just as a real user would, by interacting with GUI components, without any mocked components. The goal of this post is to convince you to add a single simple cypress test to your CI/CD pipeline.</p><hr><p>In end-to-end tests with cypress you can test a lot of aspects of your application with very little test code. Below is basically the simplest test you can write with cypress.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>it</span>(<span style=color:#e6db74>&#39;should load main page&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cy</span>.<span style=color:#a6e22e>visit</span>(<span style=color:#e6db74>&#39;/&#39;</span>);
</span></span><span style=display:flex><span>})
</span></span></code></pre></div><p>If a test like above passes while running in your CI/CD pipeline, you know that: (1) Your web server is up and running; (2) A successful HTTP status is returned when navigating to your main page; (3) There hasn&rsquo;t been any uncaught exceptions once the main page has loaded.</p><p>If you extend the test a little bit more, you can even know that communication with your backend is working. Let&rsquo;s say you have a web page showing a list of recipes, where the recipes are loaded from an API endpoint.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>it</span>(<span style=color:#e6db74>&#39;should load list of recipes&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cy</span>.<span style=color:#a6e22e>visit</span>(<span style=color:#e6db74>&#39;/&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cy</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;[test-id=&#34;recipe-list&#34;]&#39;</span>)
</span></span><span style=display:flex><span>        .<span style=color:#a6e22e>should</span>(<span style=color:#e6db74>&#39;be.visible&#39;</span>);
</span></span><span style=display:flex><span>})
</span></span></code></pre></div><p>By running a test like this in your CI/CD pipeline, you know that some critical issues, such as not being able to communicate with your backend at all, will never reach production. That&rsquo;s great!</p><p>There are a couple of downsides with end to end tests though. First, compared to other forms of tests they run really slow. Second, the tests may be expensive to maintain. This of course depends on how much changes that are introduced to your frontend, and of how the tests are designed. Third, if the tests fail, it might be hard to figure out what causes the tests to fail. In unit tests, you know exactly what software unit that is failing (since that&rsquo;s the scope of your test). In end to end tests, you know that some assertion fails, but get little help in finding out why.</p><p>For above reasons, you should not strive for &ldquo;full coverage&rdquo; in your end-to-end test suite. Stick with the most important user flows, without any obscure edge cases. The majority of your testing should be performed at a lower level, such as unit tests and integration tests. Your end-to-end test suite is your last &ldquo;safety net&rdquo;.</p><hr><p>When you&rsquo;re about to add your new cypress test to your CI/CD pipeline, you&rsquo;ll probably ask yourself at what stage in the pipeline that you should run the test. I think there are two answers to that question: (1) As early as possible; (2) All of them.</p><p>By running the test as early as possible (preferably after a pull request has been opened), you get quick feedback and can prevent critical issues from entering the main branch in your codebase. However, there&rsquo;s no reason to stop there. You can repeat the test towards each environment (e.g. dev, qa, prod) that you deploy your application to. This will let you to discover if anything in your infrastructure is causing the application to fail, and hopefully prevent the change from reaching production.</p><hr><p>It&rsquo;s really easy to get started and have a simple test running in your CI/CD pipeline. Even if the test is simple, it may prevent critical issues from affecting end users. Additionally, it gives you a solid foundation from which you can extend the test suite with more important user flows. This (cheap) investment is worth it, really. If you want to get started with cypress, check out the <a href=https://docs.cypress.io/guides/getting-started/installing-cypress>official documentation</a>. Thanks for reading!</p><ul class=pa0><li class=list><a href=/blog/tags/e2e-test class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">E2E test</a></li><li class=list><a href=/blog/tags/cypress class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Cypress</a></li><li class=list><a href=/blog/tags/ci class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">CI</a></li><li class=list><a href=/blog/tags/cd class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">CD</a></li></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://deviesdevelopment.github.io/blog>&copy; Devies blog 2022</a><div><div class=ananke-socials></div></div></div></footer></body></html>